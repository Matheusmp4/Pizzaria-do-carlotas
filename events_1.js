!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.events=t():e.events=t()}(window,(function(){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.windowSnapshot=t.GlobalThis=t.updateWindowSnapshotWhenInWorker=t.checkWindow=void 0;var o=void 0;t.GlobalThis=o;var r=void 0;t.windowSnapshot=r;var i=!1;"undefined"!=typeof window?(t.GlobalThis=o=window,t.windowSnapshot=r=window):"undefined"!=typeof self&&(t.GlobalThis=o=self,i=!0);t.checkWindow=function(e){return"object"==typeof e&&null!==e&&"window"in e&&e===e.window};t.updateWindowSnapshotWhenInWorker=function(e){return!(!i||!(0,t.checkWindow)(e))&&(t.windowSnapshot=r=e,!0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=n(2);!function(){var e,t,n,i,c,a=null===(e=document.currentScript)||void 0===e?void 0:e.src,s=o.GlobalThis,u=(null===(t=null==a?void 0:a.split("lib=")[1])||void 0===t?void 0:t.split("&")[0])||s.KwaiAnalyticsObject,l=null===(n=s[u])||void 0===n?void 0:n._i,d=(null===(i=null==a?void 0:a.split("sdkid=")[1])||void 0===i?void 0:i.split("&")[0])||Object.keys(null!=l?l:{})[0],p="https://s16-11187.ap4r.com/kos/s101/nlav11187/pixel/core/core.js";Promise.race([(c=d,new Promise((function(e,t){if(c&&/^[0-9]{0,18}$/.test(String(c))){var n=new XMLHttpRequest;n.open("POST","https://api.mythad.com/rest/n/adintl/gray/getGrayInfo",!0),n.setRequestHeader("content-type","application/json"),n.onload=function(){if(n.status>=200&&n.status<300){var o=JSON.parse(n.response);o.data&&Object.keys(o.data).length>0&&o.data.grayResourceUrl?e(o.data.grayResourceUrl):t("not in gray")}else t(n.statusText)},n.onerror=function(){return t(n.statusText)},n.withCredentials=!0,n.send(JSON.stringify({type:"pixel_v2",id:c}))}else t("参数错误")}))),new Promise((function(e,t){setTimeout((function(){t("time out")}),1e3)}))]).then((function(e){(0,r.loadScript)({src:e,pixelId:d,keyName:u,backupSrc:p})})).catch((function(e){(0,r.loadScript)({src:"https://s1.kwai.net/kos/s101/nlav11187/pixel/core/core.js",pixelId:d,keyName:u,backupSrc:p})}))}()},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.loadScript=void 0;var r=n(0),i=o(n(3));t.loadScript=function(e){var t=e.src,n=e.pixelId,o=e.keyName,c=e.backupSrc,a=r.GlobalThis,s="?sdkid=".concat(n,"&lib=").concat(o),u="".concat(t).concat(s),l=c?"".concat(c).concat(s):"";if(a&&("DedicatedWorkerGlobalScope"===a.constructor.name||void 0!==a.DedicatedWorkerGlobalScope&&a instanceof a.DedicatedWorkerGlobalScope)){if(importScripts)try{importScripts(u)}catch(e){l&&importScripts(l)}}else(0,i.default)(u,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),r=function(e,t){var n;if(o.windowSnapshot){var i=o.windowSnapshot.document.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,t&&(i.onerror=function(){r(t)});var c=o.windowSnapshot.document.getElementsByTagName("script")[0];null===(n=c.parentNode)||void 0===n||n.insertBefore(i,c)}};t.default=r}])}));